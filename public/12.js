(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{386:function(e,r,o){"use strict";o.r(r);var t=o(2),a=o.n(t);function i(e,r,o,t,a,i,s){try{var n=e[i](s),c=n.value}catch(e){return void o(e)}n.done?r(c):Promise.resolve(c).then(t,a)}function s(e){return function(){var r=this,o=arguments;return new Promise((function(t,a){var s=e.apply(r,o);function n(e){i(s,t,a,n,c,"next",e)}function c(e){i(s,t,a,n,c,"throw",e)}n(void 0)}))}}function n(e,r,o){return r in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e}var c={data:function(){var e;return n(e={record:{description:"",detalle:"",titulo:"",price:"",ubicacion:"",telefono:"",pago:"",pago_is:!1,correo_notificacion:"",color:"",colorcabezera:"",colorformulario:"","tamañoletra":"",image:"",image_fondo:"",titulo_formulario:"",promesa:"",tipomedia_id:"",tipomoneda_id:"",image_fondo_id:"",file_id:"",video_url:""},listTipomedia:[],fullscreenLoading:!1,form:new FormData,error:0,listTipomoneda:[]},"fullscreenLoading",!1),n(e,"error",0),e},watch:{"record.pago_is":{handler:function(e){this.record.pago=""}}},mounted:function(){this.getListarTipomedia(),this.getListarTipomoneda()},methods:{limpiarCriterios:function(){this.record.description="",this.record.detalle="",this.record.titulo="",this.record.titulo_formulario="",this.record.colorformulario="",this.record.promesa="",this.record.price="",this.record.ubicacion="",this.record.telefono="",this.record.pago="",this.record.correo_notificacion="",this.record.image_fondo="",this.record.color="",this.record.colorcabezera="",this.record.tamañoletra="",this.record.tipomedia_id="",this.record.tipomoneda_id=""},getFile:function(e){this.record.image=e.target.files[0]},getFileFondo:function(e){this.record.image_fondo=e.target.files[0]},getListarTipomedia:function(){var e=this;return s(a.a.mark((function r(){var o;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.fullscreenLoading=!0,"/configuracion/tipomedia/index",r.next=4,e.callApi("get","/configuracion/tipomedia/index");case 4:200==(o=r.sent).status?e.listTipomedia=o.data:(401==o.status&&(e.$router.push({name:"login"}),location.reload(),localStorage.clear()),419==o.status&&(e.notification("error","Fue necesario recargar la página",0),location.reload())),e.fullscreenLoading=!1;case 7:case"end":return r.stop()}}),r)})))()},getListarTipomoneda:function(){var e=this;return s(a.a.mark((function r(){var o;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.fullscreenLoading=!0,"/configuracion/tipomoneda/index",r.next=4,e.callApi("get","/configuracion/tipomoneda/index");case 4:200==(o=r.sent).status?e.listTipomoneda=o.data:(401==o.status&&(e.$router.push({name:"login"}),location.reload(),localStorage.clear()),419==o.status&&(e.notification("error","Fue necesario recargar la página",0),location.reload())),e.fullscreenLoading=!1;case 7:case"end":return r.stop()}}),r)})))()},setRegistrarProducto:function(){this.validarRegistrarProducto()||(this.fullscreenLoading=!0,this.record.image&&null!=this.record.image||this.record.image_fondo&&null!=this.record.image_fondo?this.record.image&&null!=this.record.image?this.setRegistrarArchivo():this.setRegistrarArchivoFondo():this.setGuardarProducto())},setRegistrarArchivo:function(){var e=this;return s(a.a.mark((function r(){var o,t,i;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.form.append("file",e.record.image),e.form.append("path","user"),o={headers:{"Content-Type":"multipart/form-data"}},"/file/store",r.next=6,e.callApi("post","/file/store",e.form,o);case 6:if(200==(t=r.sent).status)e.record.file_id=t.data,e.record.image_fondo?e.setRegistrarArchivoFondo():e.setGuardarProducto();else{if(422==t.status)for(i in t.data.errors)e.notification("error",t.data.errors[i][0]);401==t.status&&(e.$router.push({name:"login"}),location.reload(),localStorage.clear()),419==t.status&&(e.notification("error","Fue necesario recargar la página",0),location.reload())}e.fullscreenLoading=!1;case 9:case"end":return r.stop()}}),r)})))()},setRegistrarArchivoFondo:function(){var e=this;return s(a.a.mark((function r(){var o,t,i;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.form.append("file",e.record.image_fondo),e.form.append("path","user"),o={headers:{"Content-Type":"multipart/form-data"}},"/file/store",r.next=6,e.callApi("post","/file/store",e.form,o);case 6:if(200==(t=r.sent).status)e.record.image_fondo_id=t.data,e.setGuardarProducto();else{if(422==t.status)for(i in t.data.errors)e.notification("error",t.data.errors[i][0]);401==t.status&&(e.$router.push({name:"login"}),location.reload(),localStorage.clear()),419==t.status&&(e.notification("error","Fue necesario recargar la página",0),location.reload())}e.fullscreenLoading=!1;case 9:case"end":return r.stop()}}),r)})))()},setGuardarProducto:function(){var e=this;return s(a.a.mark((function r(){var o,t;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return"/landing/landing-page/store",r.next=3,e.callApi("post","/landing/landing-page/store",e.record);case 3:if(200==(o=r.sent).status)e.notification("success","Registro creado con éxito",0),e.$router.push('"/landing-page"');else{if(422==o.status)for(t in o.data.errors)e.notification("error",o.data.errors[t][0]);401==o.status&&(e.$router.push({name:"login"}),location.reload(),localStorage.clear()),419==o.status&&(e.notification("error","Fue necesario recargar la página",0),location.reload())}e.fullscreenLoading=!1;case 6:case"end":return r.stop()}}),r)})))()},validarRegistrarProducto:function(){this.error=0,this.record.description||(this.notification("error","El nombre es un campo obligatorio",0),this.error=1),this.record.detalle||(this.notification("error","El detalle es un campo obligatorio",0),this.error=1),this.record.ubicacion||(this.notification("error","El precio es un campo obligatorio",0),this.error=1),this.record.telefono||(this.notification("error","El telefono es un campo obligatorio",0),this.error=1),this.record.pago||(this.notification("error","El precio es un campo obligatorio",0),this.error=1),this.record.correo_notificacion||(this.notification("error","El correo es un campo obligatorio",0),this.error=1),this.record.tipomedia_id||(this.notification("error","Debe seleccionar un Tipo",10),this.error=1),this.record.tipomoneda_id||(this.notification("error","Debe seleccionar un Tipo",10),this.error=1)}}},l=o(14),d=Object(l.a)(c,(function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("div",{staticClass:"pcoded-content"},[o("div",{staticClass:"page-header"},[o("div",{staticClass:"page-block"},[o("div",{staticClass:"row align-items-center"},[o("div",{staticClass:"col-md-12"},[e._m(0),e._v(" "),o("ul",{staticClass:"breadcrumb"},[o("li",{staticClass:"breadcrumb-item"},[o("router-link",{attrs:{to:{name:"landing.page"}}},[o("i",{staticClass:"fas fa-users"})])],1),e._v(" "),o("li",{staticClass:"breadcrumb-item"},[o("router-link",{attrs:{to:{name:"producto.crear"}}},[e._v("\n                Crear Producto\n              ")])],1)])])])])]),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-12"},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-header"},[o("div",{staticClass:"col-sm-12"},[o("div",{staticClass:"btn-actions"},[o("div",{staticClass:"btn-group card-option"},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Regresar",placement:"top"}},[o("button",{staticClass:"btn btn-icon btn-outline-primary",on:{click:function(r){return r.preventDefault(),e.goBack(r)}}},[o("i",{staticClass:"fas fa-arrow-left"})])])],1)])])]),e._v(" "),o("div",{staticClass:"card-body"},[o("form",{on:{submit:function(e){e.preventDefault()}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"Titulo"}},[e._v("Titulo (*)")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.record.titulo,expression:"record.titulo"}],staticClass:"form-control",attrs:{type:"text",id:"Titulo",placeholder:"Titulo"},domProps:{value:e.record.titulo},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.setRegistrarProducto(r)},input:function(r){r.target.composing||e.$set(e.record,"titulo",r.target.value)}}})])]),e._v(" "),o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"Nombre"}},[e._v("Nombre (*)")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.record.description,expression:"record.description"}],staticClass:"form-control",attrs:{type:"text",id:"Nombre",placeholder:"Nombre"},domProps:{value:e.record.description},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.setRegistrarProducto(r)},input:function(r){r.target.composing||e.$set(e.record,"description",r.target.value)}}})])]),e._v(" "),o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"Detalle"}},[e._v("Detalle (*)")]),e._v(" "),o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.record.detalle,expression:"record.detalle"}],staticClass:"form-control",attrs:{type:"text",id:"Detalle",placeholder:"Detalle"},domProps:{value:e.record.detalle},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.setRegistrarProducto(r)},input:function(r){r.target.composing||e.$set(e.record,"detalle",r.target.value)}}})])])]),e._v(" "),o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"Promesa"}},[e._v("Promesa (*)")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.record.promesa,expression:"record.promesa"}],staticClass:"form-control",attrs:{type:"text",id:"Promesa",placeholder:"Promesa"},domProps:{value:e.record.promesa},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.setRegistrarProducto(r)},input:function(r){r.target.composing||e.$set(e.record,"promesa",r.target.value)}}})])]),e._v(" "),o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"Tipomedia"}},[e._v("Tipomedia (*)")]),e._v(" "),o("el-select",{attrs:{placeholder:"Tipomedia",filterable:""},model:{value:e.record.tipomedia_id,callback:function(r){e.$set(e.record,"tipomedia_id",r)},expression:"record.tipomedia_id"}},e._l(e.listTipomedia,(function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)]),e._v(" "),o("div",{staticClass:"col-sm-6"},[1==e.record.tipomedia_id?[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"Archivo"}},[e._v("Archivo")]),e._v(" "),o("input",{staticClass:"form-control",class:e.record.media?" image-selected":"",attrs:{type:"file"},on:{change:e.getFile}})])]:e._e(),e._v(" "),2==e.record.tipomedia_id?[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"Nombre"}},[e._v("URL del Video(*)")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.record.video_url,expression:"record.video_url"}],staticClass:"form-control",attrs:{type:"text",id:"Urlvideo",placeholder:"URL Video"},domProps:{value:e.record.video_url},on:{input:function(r){r.target.composing||e.$set(e.record,"video_url",r.target.value)}}})])]:e._e()],2),e._v(" "),o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"Tipomoneda"}},[e._v("Tipomoneda (*)")]),e._v(" "),o("el-select",{attrs:{placeholder:"Tipomoneda",filterable:""},model:{value:e.record.tipomoneda_id,callback:function(r){e.$set(e.record,"tipomoneda_id",r)},expression:"record.tipomoneda_id"}},e._l(e.listTipomoneda,(function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)]),e._v(" "),o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"Ubicacion"}},[e._v("Ubicacion (*)")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.record.ubicacion,expression:"record.ubicacion"}],staticClass:"form-control",attrs:{type:"text",id:"Ubicacion",placeholder:"Ubicacion"},domProps:{value:e.record.ubicacion},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.setRegistrarProducto(r)},input:function(r){r.target.composing||e.$set(e.record,"ubicacion",r.target.value)}}})])]),e._v(" "),o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"Telefono"}},[e._v("Telefono (*)")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.record.telefono,expression:"record.telefono"}],staticClass:"form-control",attrs:{type:"text",id:"Telefono",placeholder:"Telefono"},domProps:{value:e.record.telefono},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.setRegistrarProducto(r)},input:function(r){r.target.composing||e.$set(e.record,"telefono",r.target.value)}}})])]),e._v(" "),o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"Pago"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.record.pago_is,expression:"record.pago_is"}],staticClass:"mr-2",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.record.pago_is)?e._i(e.record.pago_is,null)>-1:e.record.pago_is},on:{change:function(r){var o=e.record.pago_is,t=r.target,a=!!t.checked;if(Array.isArray(o)){var i=e._i(o,null);t.checked?i<0&&e.$set(e.record,"pago_is",o.concat([null])):i>-1&&e.$set(e.record,"pago_is",o.slice(0,i).concat(o.slice(i+1)))}else e.$set(e.record,"pago_is",a)}}}),e._v("Pago (*)")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.record.pago,expression:"record.pago"}],staticClass:"form-control",attrs:{type:"text",id:"Pago",placeholder:"Pago",disabled:!e.record.pago_is},domProps:{value:e.record.pago},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.setRegistrarProducto(r)},input:function(r){r.target.composing||e.$set(e.record,"pago",r.target.value)}}})])]),e._v(" "),o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"Correo_notificacion"}},[e._v("Correo_notificacion(*)")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.record.correo_notificacion,expression:"record.correo_notificacion"}],staticClass:"form-control",attrs:{type:"text",id:"Correo_notificacion",placeholder:"Correo_notificacion"},domProps:{value:e.record.correo_notificacion},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.setRegistrarProducto(r)},input:function(r){r.target.composing||e.$set(e.record,"correo_notificacion",r.target.value)}}})])]),e._v(" "),o("h4",[e._v("PERSONALIZACIÓN DE LADINGPAGE")]),e._v(" "),o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:""}},[e._v("Archivo")]),e._v(" "),o("input",{staticClass:"form-control",class:e.record.image_fondo_id?" image-selected":"",attrs:{type:"file"},on:{change:e.getFileFondo}})])]),e._v(" "),o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"Color"}},[e._v("Color Cuerpo(*)")]),e._v(" "),o("input",{attrs:{type:"hidden",value:"rpt",id:"idcolor"}}),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.record.color,expression:"record.color"}],staticClass:"form-control",attrs:{type:"color",id:"Color",placeholder:"Color"},domProps:{value:e.record.color},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.setRegistrarProducto(r)},input:function(r){r.target.composing||e.$set(e.record,"color",r.target.value)}}})])]),e._v(" "),o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"colorcabezera"}},[e._v("Color Cabezera(*)")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.record.colorcabezera,expression:"record.colorcabezera"}],staticClass:"form-control",attrs:{type:"color",id:"Colorcabezera",placeholder:"Colorcabezera"},domProps:{value:e.record.colorcabezera},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.setRegistrarProducto(r)},input:function(r){r.target.composing||e.$set(e.record,"colorcabezera",r.target.value)}}})])]),e._v(" "),o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"Titulo_formulario"}},[e._v("Titulo Formulario (*)")]),e._v(" "),o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.record.titulo_formulario,expression:"record.titulo_formulario"}],staticClass:"form-control",attrs:{type:"text",id:"Titulo_formulario",placeholder:"Titulo_formulario"},domProps:{value:e.record.titulo_formulario},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.setRegistrarProducto(r)},input:function(r){r.target.composing||e.$set(e.record,"titulo_formulario",r.target.value)}}})])]),e._v(" "),o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"colorformulario"}},[e._v("Color Furmulario(*)")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.record.colorformulario,expression:"record.colorformulario"}],staticClass:"form-control",attrs:{type:"color",id:"Colorformulario",placeholder:"Colorformulario"},domProps:{value:e.record.colorformulario},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.setRegistrarProducto(r)},input:function(r){r.target.composing||e.$set(e.record,"colorformulario",r.target.value)}}})])]),e._v(" "),o("div",{staticClass:"col-sm-6"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"Tamañoletra"}},[e._v("Tamaño de letra(*)")]),e._v(" "),e._m(1),e._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:e.record.tamañoletra,expression:"record.tamañoletra"}],staticClass:"form-control",attrs:{id:"Tamañoletra",placeholder:"Tamañoletra"},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.setGuardarProducto(r)},change:function(r){var o=Array.prototype.filter.call(r.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.record,"tamañoletra",r.target.multiple?o:o[0])}}})])]),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-12"},[o("button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"btn btn-outline-primary has-ripple",attrs:{type:"button"},on:{click:function(r){return r.preventDefault(),e.setRegistrarProducto(r)}}},[e._v("\n                  Guardar\n                ")]),e._v(" "),o("button",{staticClass:"btn btn-outline-info has-ripple",attrs:{type:"button"},on:{click:function(r){return r.preventDefault(),e.limpiarCriterios(r)}}},[e._v("\n                  Limpiar\n                ")])])])])])])])])])}),[function(){var e=this.$createElement,r=this._self._c||e;return r("div",{staticClass:"page-header-title"},[r("h5",{staticClass:"m-b-10"},[this._v("Gestión Productos")])])},function(){var e=this.$createElement,r=this._self._c||e;return r("select",{staticClass:"form-select",attrs:{"aria-label":"Default select example"}},[r("option",{attrs:{selected:""}},[this._v("Open this select menu")]),this._v(" "),r("option",{attrs:{value:"13"}},[this._v("13")]),this._v(" "),r("option",{attrs:{value:"14"}},[this._v("14")]),this._v(" "),r("option",{attrs:{value:"15"}},[this._v("15")])])}],!1,null,null,null);r.default=d.exports}}]);