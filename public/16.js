(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{379:function(e,t,a){"use strict";a.r(t);var r=a(2),s=a.n(r);function n(e,t,a,r,s,n,i){try{var o=e[n](i),c=o.value}catch(e){return void a(e)}o.done?t(c):Promise.resolve(c).then(r,s)}function i(e){return function(){var t=this,a=arguments;return new Promise((function(r,s){var i=e.apply(t,a);function o(e){n(i,r,s,o,c,"next",e)}function c(e){n(i,r,s,o,c,"throw",e)}o(void 0)}))}}var o={data:function(){return{record:{id:this.$attrs.id,message:""},fullscreenLoading:!1,error:0}},mounted:function(){this.getMensajeById()},methods:{getMensajeById:function(){var e=this;return i(s.a.mark((function t(){var a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.fullscreenLoading=!0,a="/configuracion/mensaje/show/"+e.record.id,t.next=4,e.callApi("get",a);case 4:200==(r=t.sent).status?(e.record.message=r.data.message,e.fullscreenLoading=!1):(401==r.status&&(e.$router.push({name:"login"}),location.reload(),localStorage.clear()),419==r.status&&(e.notification("error","Fue necesario recargar la página",0),location.reload())),e.fullscreenLoading=!1;case 7:case"end":return t.stop()}}),t)})))()},limpiarCriterios:function(){this.record.message=""},setEditarMensaje:function(){var e=this;return i(s.a.mark((function t(){var a,r,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.validarEditarMensaje()){t.next=2;break}return t.abrupt("return");case 2:return e.fullscreenLoading=!0,a="/configuracion/mensaje/update/"+e.record.id,t.next=6,e.callApi("put",a,e.record);case 6:if(200==(r=t.sent).status)e.notification("success","Registro actualizado con éxito",0),e.$router.push("/mensaje");else{if(422==r.status)for(n in r.data.errors)e.notification("error",r.data.errors[n][0]);401==r.status&&(e.$router.push({name:"login"}),location.reload(),localStorage.clear()),419==r.status&&(e.notification("error","Fue necesario recargar la página",0),location.reload())}e.fullscreenLoading=!1;case 9:case"end":return t.stop()}}),t)})))()},validarEditarMensaje:function(){return this.error=0,this.record.message||(this.notification("error","El Mensaje de Predetermiando es un campo obligatorio",0),this.error=1),this.error}}},c=a(14),l=Object(c.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pcoded-content"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"page-block"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-md-12"},[e._m(0),e._v(" "),a("ul",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{attrs:{to:{name:"mensaje.predeterminado.index"}}},[a("i",{staticClass:"far fa-comment"})])],1),e._v(" "),a("li",{staticClass:"breadcrumb-item"},[a("router-link",{attrs:{to:{name:"mensaje.predeterminado.index"}}},[e._v("\n                                Editar Mensaje Predeterminado\n                            ")])],1)])])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"btn-actions"},[a("div",{staticClass:"btn-group card-option"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Regresar",placement:"top"}},[a("button",{staticClass:"btn btn-icon btn-outline-primary",on:{click:function(t){return t.preventDefault(),e.goBack(t)}}},[a("i",{staticClass:"fas fa-arrow-left"})])])],1)])])]),e._v(" "),a("div",{staticClass:"card-body"},[a("form",{on:{submit:function(e){e.preventDefault()}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"Nombre"}},[e._v("Nombre (*)")]),e._v(" "),a("el-input",{attrs:{type:"textarea",autosize:{minRows:5,maxRows:14},placeholder:"Ingrese su mensaje de Texto Predeterminado",debounce:1500,maxlength:"1000","show-word-limit":""},model:{value:e.record.message,callback:function(t){e.$set(e.record,"message",t)},expression:"record.message"}})],1)])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"btn btn-outline-primary has-ripple",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.setEditarMensaje(t)}}},[e._v("Guardar")]),e._v(" "),a("button",{staticClass:"btn btn-outline-info has-ripple ",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.limpiarCriterios(t)}}},[e._v("Limpiar")])])])])])])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page-header-title"},[t("h5",{staticClass:"m-b-10"},[this._v("Gestión Mensajes Predeterminados")])])}],!1,null,null,null);t.default=l.exports}}]);