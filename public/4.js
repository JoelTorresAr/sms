(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{336:function(n,t,a){var e=a(353);"string"==typeof e&&(e=[[n.i,e,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a(24)(e,s);e.locals&&(n.exports=e.locals)},352:function(n,t,a){"use strict";a(336)},353:function(n,t,a){(n.exports=a(23)(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* .el-radio-group{\n          display: flex;\n          justify-content: flex-start;\n          align-items: center;\n      } */\n",""])},388:function(n,t,a){"use strict";a.r(t);var e={data:function(){return{filter:new Form({type:"year",year:null,month:null,day:null}),months:[{value:1,text:"Enero"},{value:2,text:"Febrero"},{value:3,text:"Marzo"},{value:4,text:"Abril"},{value:5,text:"Mayo"},{value:6,text:"Junio"},{value:7,text:"Julio"},{value:8,text:"Agosto"},{value:9,text:"Setiembre"},{value:10,text:"Octubre"},{value:11,text:"Noviembre"},{value:12,text:"Diciembre"}],fullscreenLoading:!1,chartData:{type:"line",data:{labels:[],datasets:[{label:"Enviados",data:[],backgroundColor:["rgba(71, 183,132,.5)"],borderColor:["#47b784"],borderWidth:3},{label:"No enviados",data:[],backgroundColor:["rgba(54,73,93,.5)"],borderColor:["#36495d"],borderWidth:3}]},options:{legend:{display:!1},responsive:!0,lineTension:1,scales:{y:{suggestedMin:0,suggestedMax:3}},plugins:{datalabels:{display:!0,align:"top",anchor:"center",labels:{title:{font:{weight:"bold"}},value:{color:"blue"}}}}}},myChart:null}},computed:{days:function(){var n=[],t=this.filter.year;t&&(t=String(t).slice(10,15));for(var a=new Date(t,this.filter.month,0).getDate(),e=1;e<=a;e++)n.push(e);return n}},watch:{"filter.type":{handler:function(n,t){if("year"==n){var a=this.months.map((function(n){return n.text}));this.chartData.data.labels=a}if("month"==n&&(this.chartData.data.labels=this.days),"day"==n){for(var e=[],s=0;s<24;s++)e.push("".concat(s,":00"));this.chartData.data.labels=e}}},"filter.year":{handler:function(n,t){this.filter.month=null}},"filter.month":{handler:function(n,t){this.filter.day=null}},"chartData.data.labels":{handler:function(n,t){this.startedGrafico()}}},mounted:function(){if("year"==this.filter.type){var n=this.months.map((function(n){return n.text}));this.chartData.data.labels=n}this.crearGrafico("statisticsId",this.chartData)},methods:{crearGrafico:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"statisticsId",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.chartData,a=document.getElementById(n);this.myChart&&this.myChart.destroy(),this.myChart=new Chart(a,{type:t.type,data:t.data,options:t.options})},startedGrafico:function(){var n=this.chartData.data.labels.length;this.chartData.data.datasets[0].data=[],this.chartData.data.datasets[1].data=[];for(var t=0;t<n;t++)this.chartData.data.datasets[0].data.push(0),this.chartData.data.datasets[1].data.push(0);this.crearGrafico()},getRecords:function(){var n=this;this.filter.post("estadisticas/records").then((function(t){var a=t.data;a.records.length>0&&(n.chartData.data.labels.forEach((function(t,e){var s=a.records[0].find((function(a){return a.text==("month"==n.filter.type?t:e+1)}));n.chartData.data.datasets[0].data[e]=s?s.value:0})),n.crearGrafico())}))}}},s=(a(352),a(14)),r=Object(s.a)(e,(function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",{staticClass:"pcoded-content"},[n._m(0),n._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 text-center"},[a("el-radio-group",{model:{value:n.filter.type,callback:function(t){n.$set(n.filter,"type",t)},expression:"filter.type"}},[a("el-radio",{attrs:{label:"year"}},[n._v("Estadisticas por año")]),n._v(" "),a("el-radio",{attrs:{label:"month"}},[n._v("Estadisticas por mes")]),n._v(" "),a("el-radio",{attrs:{label:"day"}},[n._v("Estadisticas por día")])],1)],1),n._v(" "),a("div",{staticClass:"col-sm-12 text-center"},[a("div",{staticClass:"row text-center"},["year"===n.filter.type||"month"===n.filter.type||"day"===n.filter.type?[a("div",{staticClass:"col-md-4"},[a("el-date-picker",{attrs:{type:"year",format:"yyyy",placeholder:"Año"},model:{value:n.filter.year,callback:function(t){n.$set(n.filter,"year",t)},expression:"filter.year"}})],1)]:n._e(),n._v(" "),"month"===n.filter.type||"day"===n.filter.type?[a("div",{staticClass:"col-md-4"},[a("el-select",{attrs:{placeholder:"Mes"},model:{value:n.filter.month,callback:function(t){n.$set(n.filter,"month",t)},expression:"filter.month"}},n._l(n.months,(function(n,t){return a("el-option",{key:t,attrs:{label:n.text,value:n.value}})})),1)],1)]:n._e(),n._v(" "),"day"===n.filter.type?[a("div",{staticClass:"col-md-4"},[a("el-select",{attrs:{placeholder:"Dia"},model:{value:n.filter.day,callback:function(t){n.$set(n.filter,"day",t)},expression:"filter.day"}},n._l(n.days,(function(n,t){return a("el-option",{key:t,attrs:{label:n,value:n}})})),1)],1)]:n._e()],2)]),n._v(" "),a("div",{staticClass:"col-sm-12 mt-3"},[a("button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:n.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"btn btn-primary mb-2",on:{"&click":function(t){return n.getRecords(t)}}},[n._v("\n                Buscar\n              ")])])])]),n._v(" "),n._m(1)])])])])}),[function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"page-header"},[t("div",{staticClass:"page-block"},[t("div",{staticClass:"row align-items-center"},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"page-header-title"},[t("h5",{staticClass:"m-b-10"},[this._v("Estadisticas")])])])])])])},function(){var n=this.$createElement,t=this._self._c||n;return t("div",{staticClass:"card-body table-border-style"},[t("canvas",{attrs:{id:"statisticsId",width:"80rem",height:"20rem"}})])}],!1,null,"0c0d9c6a",null);t.default=r.exports}}]);