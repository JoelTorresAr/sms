(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{382:function(e,t,r){"use strict";r.r(t);var o=r(2),a=r.n(o);function i(e,t,r,o,a,i,s){try{var n=e[i](s),c=n.value}catch(e){return void r(e)}n.done?t(c):Promise.resolve(c).then(o,a)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var s=e.apply(t,r);function n(e){i(s,o,a,n,c,"next",e)}function c(e){i(s,o,a,n,c,"throw",e)}n(void 0)}))}}var n={data:function(){return{record:{id:this.$attrs.id,code:"",name:"",address:"",place:"",phone_number:"",tipo_id:""},listTipos:[],fullscreenLoading:!1,error:0}},mounted:function(){this.getClienteById()},methods:{getClienteById:function(){var e=this;return s(a.a.mark((function t(){var r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.fullscreenLoading=!0,r="/operacion/cliente/show/"+e.record.id,t.next=4,e.callApi("get",r);case 4:200==(o=t.sent).status?(e.record.code=o.data.code,e.record.name=o.data.name,e.record.address=o.data.address,e.record.place=o.data.place,e.record.phone_number=o.data.phone_number,e.record.tipo_id=o.data.tipo_id,e.fullscreenLoading=!1,e.getListarTipos()):(401==o.status&&(e.$router.push({name:"login"}),location.reload(),localStorage.clear()),419==o.status&&(e.notification("error","Fue necesario recargar la página",0),location.reload())),e.fullscreenLoading=!1;case 7:case"end":return t.stop()}}),t)})))()},limpiarCriterios:function(){this.record.code="",this.record.name="",this.record.address="",this.record.place="",this.record.phone_number="",this.record.tipo_id=""},getListarTipos:function(){var e=this;return s(a.a.mark((function t(){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.fullscreenLoading=!0,"/configuracion/tipo/index",t.next=4,e.callApi("get","/configuracion/tipo/index");case 4:200==(r=t.sent).status?e.listTipos=r.data:(401==r.status&&(e.$router.push({name:"login"}),location.reload(),localStorage.clear()),419==r.status&&(e.notification("error","Fue necesario recargar la página",0),location.reload())),e.fullscreenLoading=!1;case 7:case"end":return t.stop()}}),t)})))()},setEditarPermiso:function(){var e=this;return s(a.a.mark((function t(){var r,o,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.validarEditarPermiso()){t.next=2;break}return t.abrupt("return");case 2:return e.fullscreenLoading=!0,r="/operacion/cliente/update/"+e.record.id,t.next=6,e.callApi("put",r,e.record);case 6:if(200==(o=t.sent).status)e.notification("success","Registro actualizado con éxito",0),e.$router.push("/cliente");else{if(422==o.status)for(i in o.data.errors)e.notification("error",o.data.errors[i][0]);401==o.status&&(e.$router.push({name:"login"}),location.reload(),localStorage.clear()),419==o.status&&(e.notification("error","Fue necesario recargar la página",0),location.reload())}e.fullscreenLoading=!1;case 9:case"end":return t.stop()}}),t)})))()},validarEditarPermiso:function(){return this.error=0,this.record.id||(this.notification("error","El Cliente debe existir",0),this.error=1),this.record.code||(this.notification("error","El Código es un campo obligatorio",0),this.error=1),this.record.name||(this.notification("error","El Nombre es un campo obligatorio",0),this.error=1),this.record.address||(this.notification("error","La Dirección es un campo obligatorio",0),this.error=1),this.record.place||(this.notification("error","El Lugar es un campo obligatorio",0),this.error=1),this.record.phone_number||(this.notification("error","La Teléfono Celular es un campo obligatorio",10),this.error=1),this.record.tipo_id||(this.notification("error","Debe seleccionar un Tipo",10),this.error=1),this.error}}},c=r(14),l=Object(c.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pcoded-content"},[r("div",{staticClass:"page-header"},[r("div",{staticClass:"page-block"},[r("div",{staticClass:"row align-items-center"},[r("div",{staticClass:"col-md-12"},[e._m(0),e._v(" "),r("ul",{staticClass:"breadcrumb"},[r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"cliente.index"}}},[r("i",{staticClass:"fas fa-users"})])],1),e._v(" "),r("li",{staticClass:"breadcrumb-item"},[r("router-link",{attrs:{to:{name:"cliente.crear"}}},[e._v("\n                                Crear Cliente\n                            ")])],1)])])])])]),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[r("div",{staticClass:"col-sm-12"},[r("div",{staticClass:"btn-actions"},[r("div",{staticClass:"btn-group card-option"},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Regresar",placement:"top"}},[r("button",{staticClass:"btn btn-icon btn-outline-primary",on:{click:function(t){return t.preventDefault(),e.goBack(t)}}},[r("i",{staticClass:"fas fa-arrow-left"})])])],1)])])]),e._v(" "),r("div",{staticClass:"card-body"},[r("form",{on:{submit:function(e){e.preventDefault()}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-6"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"Codigo"}},[e._v("Código (*)")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.record.code,expression:"record.code"}],staticClass:"form-control",attrs:{type:"text",id:"Codigo",placeholder:"Codigo"},domProps:{value:e.record.code},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setEditarPermiso(t)},input:function(t){t.target.composing||e.$set(e.record,"code",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"col-sm-6"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"Nombre"}},[e._v("Nombre (*)")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.record.name,expression:"record.name"}],staticClass:"form-control",attrs:{type:"text",id:"Nombre",placeholder:"Nombre"},domProps:{value:e.record.name},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setEditarPermiso(t)},input:function(t){t.target.composing||e.$set(e.record,"name",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"col-sm-6"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"Dirección"}},[e._v("Dirección (*)")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.record.address,expression:"record.address"}],staticClass:"form-control",attrs:{type:"text",id:"Dirección",placeholder:"Dirección"},domProps:{value:e.record.address},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setEditarPermiso(t)},input:function(t){t.target.composing||e.$set(e.record,"address",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"col-sm-6"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"Lugar"}},[e._v("Lugar (*)")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.record.place,expression:"record.place"}],staticClass:"form-control",attrs:{type:"text",id:"Lugar",placeholder:"Lugar"},domProps:{value:e.record.place},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setEditarPermiso(t)},input:function(t){t.target.composing||e.$set(e.record,"place",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"col-sm-6"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"phone_number"}},[e._v("Teléfono Celular (*)")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.record.phone_number,expression:"record.phone_number"}],staticClass:"form-control",attrs:{type:"text",for:"phone_number",placeholder:"Teléfono Celular"},domProps:{value:e.record.phone_number},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setEditarPermiso(t)},input:function(t){t.target.composing||e.$set(e.record,"phone_number",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"col-sm-6"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"Tipo"}},[e._v("Tipo (*)")]),e._v(" "),r("el-select",{attrs:{placeholder:"Tipo",filterable:""},model:{value:e.record.tipo_id,callback:function(t){e.$set(e.record,"tipo_id",t)},expression:"record.tipo_id"}},e._l(e.listTipos,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)])]),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"btn btn-outline-primary has-ripple",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.setEditarPermiso(t)}}},[e._v("Guardar")]),e._v(" "),r("button",{staticClass:"btn btn-outline-info has-ripple ",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.limpiarCriterios(t)}}},[e._v("Limpiar")])])])])])])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page-header-title"},[t("h5",{staticClass:"m-b-10"},[this._v("Gestión Clientes")])])}],!1,null,null,null);t.default=l.exports}}]);