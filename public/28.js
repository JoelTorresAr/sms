(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{374:function(t,e,a){"use strict";a.r(e);var r=a(2),i=a.n(r);function s(t,e,a,r,i,s,o){try{var n=t[s](o),c=n.value}catch(t){return void a(t)}n.done?e(c):Promise.resolve(c).then(r,i)}var o={data:function(){return{record:{name:""},fullscreenLoading:!1,error:0}},computed:{},methods:{limpiarCriterios:function(){this.record.name=""},setRegistrarTipomedia:function(){var t,e=this;return(t=i.a.mark((function t(){var a,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.validarRegistrarTipomedia()){t.next=2;break}return t.abrupt("return");case 2:return e.fullscreenLoading=!0,t.next=6,e.callApi("post","/configuracion/tipomedia/store",e.record);case 6:if(200==(a=t.sent).status)e.notification("success","Registro creado con éxito",0),e.$router.push("/tipomedia");else{if(422==a.status)for(r in a.data.errors)e.notification("error",a.data.errors[r][0]);401==a.status&&(e.$router.push({name:"login"}),location.reload(),localStorage.clear()),419==a.status&&(e.notification("error","Fue necesario recargar la página",0),location.reload())}e.fullscreenLoading=!1;case 9:case"end":return t.stop()}}),t)})),function(){var e=this,a=arguments;return new Promise((function(r,i){var o=t.apply(e,a);function n(t){s(o,r,i,n,c,"next",t)}function c(t){s(o,r,i,n,c,"throw",t)}n(void 0)}))})()},validarRegistrarTipomedia:function(){return this.error=0,this.record.name||(this.notification("error","El Tipo Persona es un campo obligatorio",0),this.error=1),this.error}}},n=a(14),c=Object(n.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pcoded-content"},[a("div",{staticClass:"page-header"},[a("div",{staticClass:"page-block"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-md-12"},[t._m(0),t._v(" "),a("ul",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{attrs:{to:{name:"tipomedia.index"}}},[a("i",{staticClass:"fas fa-tasks"})])],1),t._v(" "),a("li",{staticClass:"breadcrumb-item"},[a("router-link",{attrs:{to:{name:"tipomedia.crear"}}},[t._v("\n                                Crear Tipomedia\n                            ")])],1)])])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"btn-actions"},[a("div",{staticClass:"btn-group card-option"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Regresar",placement:"top"}},[a("button",{staticClass:"btn btn-icon btn-outline-primary",on:{click:function(e){return e.preventDefault(),t.goBack(e)}}},[a("i",{staticClass:"fas fa-arrow-left"})])])],1)])])]),t._v(" "),a("div",{staticClass:"card-body"},[a("form",{on:{submit:function(t){t.preventDefault()}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"Nombre"}},[t._v("Nombre (*)")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.record.name,expression:"record.name"}],staticClass:"form-control",attrs:{type:"text",id:"Nombre",placeholder:"Nombre"},domProps:{value:t.record.name},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setRegistrarTipomedia(e)},input:function(e){e.target.composing||t.$set(t.record,"name",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"btn btn-outline-primary has-ripple",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.setRegistrarTipomedia(e)}}},[t._v("Guardar")]),t._v(" "),a("button",{staticClass:"btn btn-outline-info has-ripple ",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.limpiarCriterios(e)}}},[t._v("Limpiar")])])])])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-header-title"},[e("h5",{staticClass:"m-b-10"},[this._v("Gestión Tipomedia")])])}],!1,null,null,null);e.default=c.exports}}]);